spring:
  redis:
    host: ${REDIS_HOST:10.0.4.138}
    port: ${REDIS_PORT:8086}
    lettuce:
      pool:
        max-active: 300
  security:
    oauth2:
      client:
        registration:
          github:
            client-id: 5131f864258e5c1fb52c
            client-secret: 0e814819298710aa575bd62f74c4f97281af0357
      jwt:
        signingKey: runyuanj123
      user:
        name: admin
        password: 12345678
        strategy: MODE_THREADLOCAL # 默认MODE_THREADLOCAL
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:${DATASOURCE_DBTYPE:mysql}://${DATASOURCE_HOST:111.229.218.230}:${DATASOURCE_PORT:3306}/sc_gateway?characterEncoding=UTF-8&useUnicode=true&useSSL=false&serverTimezone=GMT
    username: ${DATASOURCE_USERNAME:root}
    password: ${DATASOURCE_PASSWORD:root123!}
  cloud:
    gateway:
      httpserver:
        wiretap: true
      httpclient:
        wiretap: true

jetcache:
  statIntervalMinutes: 15  # 统一间隔
  areaInCacheName: false  # 设置不把areaName作为Key前缀
  hidePackages: com.runyuanj # 如果@Cached和@CreateCache的name是自动生成的，会默认的将包名和方法名作为前缀,该设置会被从包名中截掉
  local:
    # 默认永久本地缓存
    default:
      type: caffeine
      keyConvertor: fastjson
  remote:
    # 默认永久的远程缓存
    default:
      type: redis
      keyConvertor: fastjson
      valueEncoder: kryo
      valueDecoder: kryo
      expireAfterWriteInMillis: 2000 # 以毫秒为单位指定超时时间的全局配置
      poolConfig:
        minIdle: 5
        maxIdle: 20
        maxTotal: 50
      host: ${spring.redis.host}
      port: ${spring.redis.port}
      # password: ${REDIS_PASSWORD:root}

logging:
  level:
#    org:
#      springframework:
#        cloud:
#          gateway: debug
#        http:
#          server:
#            reactive: debug
#        web:
#          reactive: debug
#        boot:
#          autoconfigure:
#            web: debug
#    reactor:
#      netty: debug
#    redisratelimiter: debug
